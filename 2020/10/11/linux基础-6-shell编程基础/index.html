<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.0/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css">

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Pisces","version":"8.0.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"}};
  </script>

  <meta name="description" content="[TOC]">
<meta property="og:type" content="article">
<meta property="og:title" content="linux基础_6.shell编程基础">
<meta property="og:url" content="http://example.com/2020/10/11/linux%E5%9F%BA%E7%A1%80-6-shell%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80/index.html">
<meta property="og:site_name" content="mij0lb&#39;s blog">
<meta property="og:description" content="[TOC]">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201011093928.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012192028.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012192218.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012192538.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012192808.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012193234.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012193336.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012193520.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012193931.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012194315.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012195537.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012195810.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012200052.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012200313.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012205138.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012205323.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012205414.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012205612.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201011093929.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012205923.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012210035.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012210137.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012210409.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012210631.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201011093930.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012211055.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012211728.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012211359.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012212142.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012212228.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012212314.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012212422.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012212740.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012212934.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012213111.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012213424.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012213911.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012214053.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012214734.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012215000.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012215213.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012215254.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012215522.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012215632.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012215835.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012215947.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012220151.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012220545.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012220623.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012220921.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012221415.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012221740.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012222035.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012222408.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012231527.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012224044.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012224603.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012225128.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012224930.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201011093931.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201011093932.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201011093933.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201011093934.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012225926.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012230040.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012230114.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012230201.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012230257.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012230423.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012231528.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012231529.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012231530.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201011093935.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012231413.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012231518.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012231724.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012231945.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012231926.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012232009.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201011093936.png">
<meta property="article:published_time" content="2020-10-11T01:22:17.000Z">
<meta property="article:modified_time" content="2020-10-13T04:52:19.825Z">
<meta property="article:author" content="mij0lb">
<meta property="article:tag" content="linux">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201011093928.png">


<link rel="canonical" href="http://example.com/2020/10/11/linux%E5%9F%BA%E7%A1%80-6-shell%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80/">


<script class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>linux基础_6.shell编程基础 | mij0lb's blog</title>
  






  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
	<a target="_blank" rel="noopener" href="https://github.com/mij0lb" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">mij0lb's blog</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">宁静致远</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
        
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <section class="post-toc-wrap sidebar-panel">
          <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#shell%E6%A6%82%E8%BF%B0"><span class="nav-number">1.</span> <span class="nav-text">shell概述</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFshell"><span class="nav-number">1.1.</span> <span class="nav-text">什么是shell</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%86%E7%B1%BB"><span class="nav-number">1.2.</span> <span class="nav-text">分类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#linux%E6%94%AF%E6%8C%81%E7%9A%84shell"><span class="nav-number">1.3.</span> <span class="nav-text">linux支持的shell</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#shell%E8%84%9A%E6%9C%AC%E6%89%A7%E8%A1%8C%E6%96%B9%E5%BC%8F"><span class="nav-number">2.</span> <span class="nav-text">shell脚本执行方式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#echo%E8%BE%93%E5%87%BA%E8%AF%AD%E5%8F%A5"><span class="nav-number">2.1.</span> <span class="nav-text">echo输出语句</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%80%E4%BA%9B%E5%AE%9E%E4%BE%8B"><span class="nav-number">2.1.1.</span> <span class="nav-text">一些实例</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%89%A7%E8%A1%8C%E8%84%9A%E6%9C%AC"><span class="nav-number">2.2.</span> <span class="nav-text">执行脚本</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BC%96%E5%86%99%E8%84%9A%E6%9C%AChello-sh"><span class="nav-number">2.2.1.</span> <span class="nav-text">编写脚本hello.sh</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%89%A7%E8%A1%8C%E8%84%9A%E6%9C%AC-1"><span class="nav-number">2.2.2.</span> <span class="nav-text">执行脚本</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%96%B9%E6%B3%951"><span class="nav-number">2.2.2.1.</span> <span class="nav-text">方法1</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%96%B9%E6%B3%952"><span class="nav-number">2.2.2.2.</span> <span class="nav-text">方法2</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#bash%E7%9A%84%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD"><span class="nav-number">3.</span> <span class="nav-text">bash的基本功能</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8E%86%E5%8F%B2%E5%91%BD%E4%BB%A4%E4%B8%8E%E8%A1%A5%E5%85%A8"><span class="nav-number">3.1.</span> <span class="nav-text">历史命令与补全</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#history"><span class="nav-number">3.1.1.</span> <span class="nav-text">history</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8E%86%E5%8F%B2%E5%91%BD%E4%BB%A4%E8%B0%83%E7%94%A8tips"><span class="nav-number">3.1.2.</span> <span class="nav-text">历史命令调用tips</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%AB%E5%90%8Dalias%E4%B8%8Ebash%E5%BF%AB%E6%8D%B7%E9%94%AE"><span class="nav-number">3.2.</span> <span class="nav-text">别名alias与bash快捷键</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%AB%E5%90%8D"><span class="nav-number">3.2.1.</span> <span class="nav-text">别名</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#bash%E5%B8%B8%E7%94%A8%E5%BF%AB%E6%8D%B7%E9%94%AE"><span class="nav-number">3.2.2.</span> <span class="nav-text">bash常用快捷键</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E9%87%8D%E5%AE%9A%E5%90%91"><span class="nav-number">3.3.</span> <span class="nav-text">输入输出重定向</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BE%93%E5%87%BA%E9%87%8D%E5%AE%9A%E5%90%91"><span class="nav-number">3.3.1.</span> <span class="nav-text">输出重定向</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%A0%87%E5%87%86%E8%BE%93%E5%87%BA%E9%87%8D%E5%AE%9A%E5%90%91"><span class="nav-number">3.3.1.1.</span> <span class="nav-text">标准输出重定向</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%A0%87%E5%87%86%E9%94%99%E8%AF%AF%E8%BE%93%E5%87%BA%E9%87%8D%E5%AE%9A%E5%90%91"><span class="nav-number">3.3.1.2.</span> <span class="nav-text">标准错误输出重定向</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%90%8C%E6%97%B6%E4%BF%9D%E5%AD%98%E6%AD%A3%E7%A1%AE%E5%92%8C%E9%94%99%E8%AF%AF%E8%BE%93%E5%87%BA%E7%BB%93%E6%9E%9C"><span class="nav-number">3.3.1.3.</span> <span class="nav-text">同时保存正确和错误输出结果</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E9%87%8D%E5%AE%9A%E5%90%91%E7%89%B9%E6%AE%8A%E5%BA%94%E7%94%A8-dev-null-%E7%B1%BB%E4%BC%BC%E5%9E%83%E5%9C%BE%E7%AE%B1"><span class="nav-number">3.3.1.4.</span> <span class="nav-text">重定向特殊应用 &#x2F;dev&#x2F;null(类似垃圾箱)</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BE%93%E5%85%A5%E9%87%8D%E5%AE%9A%E5%90%91"><span class="nav-number">3.3.2.</span> <span class="nav-text">输入重定向</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%BB%9F%E8%AE%A1%E5%91%BD%E4%BB%A4wc%EF%BC%8CCtrl-D%E9%80%80%E5%87%BA"><span class="nav-number">3.3.2.1.</span> <span class="nav-text">统计命令wc，Ctrl+D退出</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E8%BE%93%E5%85%A5%E9%87%8D%E5%AE%9A%E5%90%91%E7%BB%9F%E8%AE%A1%E6%96%87%E4%BB%B6"><span class="nav-number">3.3.2.2.</span> <span class="nav-text">使用输入重定向统计文件</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%9A%E5%91%BD%E4%BB%A4%E9%A1%BA%E5%BA%8F%E6%89%A7%E8%A1%8C%E4%B8%8E%E7%AE%A1%E9%81%93%E7%AC%A6"><span class="nav-number">3.4.</span> <span class="nav-text">多命令顺序执行与管道符</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A4%9A%E5%91%BD%E4%BB%A4%E9%A1%BA%E5%BA%8F%E6%89%A7%E8%A1%8C"><span class="nav-number">3.4.1.</span> <span class="nav-text">多命令顺序执行</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%91%BD%E4%BB%A4%E6%8B%BC%E6%8E%A5"><span class="nav-number">3.4.1.1.</span> <span class="nav-text">;命令拼接</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#amp-amp-%E9%80%BB%E8%BE%91%E4%B8%8E"><span class="nav-number">3.4.1.2.</span> <span class="nav-text">&amp;&amp;逻辑与</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E9%80%BB%E8%BE%91%E6%88%96"><span class="nav-number">3.4.1.3.</span> <span class="nav-text">||逻辑或</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%AE%A1%E7%AE%97%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%97%B6%E9%97%B4"><span class="nav-number">3.4.1.4.</span> <span class="nav-text">计算命令执行时间</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E2%80%9C%E5%8D%87%E7%BA%A7%E7%89%88%E2%80%9D%E6%8B%B7%E8%B4%9D%E5%91%BD%E4%BB%A4dd"><span class="nav-number">3.4.1.5.</span> <span class="nav-text">“升级版”拷贝命令dd:</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AE%A1%E9%81%93%E7%AC%A6"><span class="nav-number">3.4.2.</span> <span class="nav-text">管道符</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%80%9A%E9%85%8D%E7%AC%A6%E4%B8%8E%E5%85%B6%E4%BB%96%E7%89%B9%E6%AE%8A%E7%AC%A6%E5%8F%B7"><span class="nav-number">3.5.</span> <span class="nav-text">通配符与其他特殊符号</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%80%9A%E9%85%8D%E7%AC%A6%EF%BC%88%E5%AE%8C%E5%85%A8%E5%8C%B9%E9%85%8D%EF%BC%89"><span class="nav-number">3.5.1.</span> <span class="nav-text">通配符（完全匹配）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%85%B6%E4%BB%96Bash%E4%B8%AD%E7%9A%84%E7%89%B9%E6%AE%8A%E7%AC%A6%E5%8F%B7"><span class="nav-number">3.5.2.</span> <span class="nav-text">其他Bash中的特殊符号</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#bash%E7%9A%84%E5%8F%98%E9%87%8F"><span class="nav-number">4.</span> <span class="nav-text">bash的变量</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%94%A8%E6%88%B7%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F"><span class="nav-number">4.1.</span> <span class="nav-text">用户自定义变量</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E5%8F%98%E9%87%8F"><span class="nav-number">4.1.1.</span> <span class="nav-text">什么是变量</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AE%BE%E7%BD%AE%E8%A7%84%E5%88%99"><span class="nav-number">4.1.2.</span> <span class="nav-text">设置规则</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%98%E9%87%8F%E5%88%86%E7%B1%BB"><span class="nav-number">4.1.3.</span> <span class="nav-text">变量分类</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9C%AC%E5%9C%B0%E5%8F%98%E9%87%8F-%E7%94%A8%E6%88%B7%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F"><span class="nav-number">4.1.4.</span> <span class="nav-text">本地变量&#x2F;用户自定义变量</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="nav-number">4.2.</span> <span class="nav-text">环境变量</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%94%A8%E6%88%B7%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F%E4%B8%8E%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E5%8C%BA%E5%88%AB"><span class="nav-number">4.2.1.</span> <span class="nav-text">用户自定义变量与环境变量区别</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AE%BE%E7%BD%AE%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="nav-number">4.2.2.</span> <span class="nav-text">设置环境变量</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%B3%BB%E7%BB%9F%E5%B8%B8%E8%A7%81%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="nav-number">4.2.3.</span> <span class="nav-text">系统常见环境变量</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#PATH%EF%BC%9A%E7%B3%BB%E7%BB%9F%E6%9F%A5%E6%89%BE%E5%91%BD%E4%BB%A4%E7%9A%84%E8%B7%AF%E5%BE%84"><span class="nav-number">4.2.3.1.</span> <span class="nav-text">PATH：系统查找命令的路径</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#PS1-%E5%AE%9A%E4%B9%89%E7%B3%BB%E7%BB%9F%E6%8F%90%E7%A4%BA%E7%AC%A6%E7%9A%84%E5%8F%98%E9%87%8F"><span class="nav-number">4.2.3.2.</span> <span class="nav-text">PS1: 定义系统提示符的变量</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%8D%E7%BD%AE%E5%8F%82%E6%95%B0%E5%8F%98%E9%87%8F"><span class="nav-number">4.3.</span> <span class="nav-text">位置参数变量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%A2%84%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F"><span class="nav-number">4.4.</span> <span class="nav-text">预定义变量</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A2%84%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F-1"><span class="nav-number">4.4.1.</span> <span class="nav-text">预定义变量</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%B8%BB%E5%8A%A8%E6%8E%A5%E6%94%B6%E9%94%AE%E7%9B%98%E8%BE%93%E5%85%A5read"><span class="nav-number">4.4.1.1.</span> <span class="nav-text">主动接收键盘输入read</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#bash%E7%9A%84%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">5.</span> <span class="nav-text">bash的运算符</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E5%80%BC%E8%BF%90%E7%AE%97%E4%B8%8E%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">5.1.</span> <span class="nav-text">数值运算与运算符</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A3%B0%E6%98%8E%E5%8F%98%E9%87%8F%E7%B1%BB%E5%9E%8B-declare"><span class="nav-number">5.1.1.</span> <span class="nav-text">声明变量类型 declare</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BF%90%E7%AE%97%E4%BC%98%E5%85%88%E7%BA%A7"><span class="nav-number">5.1.2.</span> <span class="nav-text">运算优先级</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8F%98%E9%87%8F%E6%B5%8B%E8%AF%95%E4%B8%8E%E5%86%85%E5%AE%B9%E6%9B%BF%E6%8D%A2"><span class="nav-number">5.2.</span> <span class="nav-text">变量测试与内容替换</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BD%AE%E6%8D%A2%E6%A0%BC%E5%BC%8F"><span class="nav-number">5.2.1.</span> <span class="nav-text">置换格式</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="nav-number">6.</span> <span class="nav-text">环境变量配置文件</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%AE%80%E4%BB%8B"><span class="nav-number">6.1.</span> <span class="nav-text">简介</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#source"><span class="nav-number">6.1.0.1.</span> <span class="nav-text">source</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6-1"><span class="nav-number">6.1.1.</span> <span class="nav-text">环境变量配置文件</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%B8%B8%E8%A7%81%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="nav-number">6.1.1.1.</span> <span class="nav-text">常见配置文件</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%9C%E7%94%A8"><span class="nav-number">6.2.</span> <span class="nav-text">作用</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BC%98%E5%85%88%E7%BA%A7"><span class="nav-number">6.2.1.</span> <span class="nav-text">优先级</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AE%BF%E9%97%AE%E8%B7%AF%E5%BE%841"><span class="nav-number">6.2.2.</span> <span class="nav-text">访问路径1</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AE%BF%E9%97%AE%E8%B7%AF%E5%BE%842"><span class="nav-number">6.2.3.</span> <span class="nav-text">访问路径2</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%B6%E4%BB%96%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%B8%8E%E7%99%BB%E5%BD%95%E4%BF%A1%E6%81%AF"><span class="nav-number">6.3.</span> <span class="nav-text">其他配置文件与登录信息</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B3%A8%E9%94%80%E6%97%B6%E7%94%9F%E6%95%88%E7%9A%84%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="nav-number">6.3.1.</span> <span class="nav-text">注销时生效的环境变量配置文件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8E%86%E5%8F%B2%E5%91%BD%E4%BB%A4%E8%AE%B0%E5%BD%95%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="nav-number">6.3.2.</span> <span class="nav-text">历史命令记录配置文件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#shell%E4%B8%AD%E7%99%BB%E5%BD%95%E4%BF%A1%E6%81%AF"><span class="nav-number">6.3.3.</span> <span class="nav-text">shell中登录信息</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%9C%AC%E5%9C%B0%E7%BB%88%E7%AB%AF%E6%AC%A2%E8%BF%8E%E4%BF%A1%E6%81%AF%EF%BC%9A-etc-issue"><span class="nav-number">6.3.3.1.</span> <span class="nav-text">本地终端欢迎信息：&#x2F;etc.issue</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%BF%9C%E7%A8%8B%E7%BB%88%E7%AB%AF%E6%AC%A2%E8%BF%8E%E4%BF%A1%E6%81%AF%EF%BC%9A-etc-issue-net"><span class="nav-number">6.3.3.2.</span> <span class="nav-text">远程终端欢迎信息：&#x2F;etc&#x2F;issue.net</span></a></li></ol></li></ol></li></ol></li></ol></div>
      </section>
      <!--/noindex-->

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">mij0lb</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">13</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



      </section>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">
      

      

  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/10/11/linux%E5%9F%BA%E7%A1%80-6-shell%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="mij0lb">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="mij0lb's blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          linux基础_6.shell编程基础
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-10-11 09:22:17" itemprop="dateCreated datePublished" datetime="2020-10-11T09:22:17+08:00">2020-10-11</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2020-10-13 12:52:19" itemprop="dateModified" datetime="2020-10-13T12:52:19+08:00">2020-10-13</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/linux%E5%9F%BA%E7%A1%80/" itemprop="url" rel="index"><span itemprop="name">linux基础</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <p>[TOC]</p>
<a id="more"></a>

<h2 id="shell概述"><a href="#shell概述" class="headerlink" title="shell概述"></a>shell概述</h2><h3 id="什么是shell"><a href="#什么是shell" class="headerlink" title="什么是shell"></a>什么是shell</h3><ul>
<li><p>命令解释器，向用户提供向内核发送请求的界面（双向翻译）</p>
<img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201011093928.png" alt="image-20201001183116659" style="zoom:50%;" />
</li>
<li><p>编程语言，解释执行的脚本语言，可直接调用linux系统命令</p>
</li>
</ul>
<h3 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h3><ol>
<li><p>bourne shell(1970,unix)，主文件名sh</p>
<p>包括sh, ksh, Bash, psh, zsh;</p>
</li>
<li><p>C shell，主要用于BSD版unix，语法与C类似<br>包括csh, tcsh</p>
<p>两种语法（B shell&amp;C shell）不兼容。linux主流shell-Bash，与sh兼容。</p>
</li>
</ol>
<h3 id="linux支持的shell"><a href="#linux支持的shell" class="headerlink" title="linux支持的shell"></a>linux支持的shell</h3><p> <code>cat  /etc/shells</code>可查看该文件</p>
<img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012192028.png" alt="image-20201012191714842" style="zoom: 67%;" />

<p><strong>bash切换</strong>输入shell名即可，退出exit</p>
<img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012192218.png" alt="image-20201012192218608" style="zoom:50%;" />



<ul>
<li><p>/etc/passwd 最后一个字段为用户登录后权限</p>
<p> ​    root-/bin/bash, </p>
<p> ​    命令（伪用户）-/sbin/nologin, </p>
<p> ​    shutdown-/sbin/shutdown    表示只能执行该命令（halt同）</p>
</li>
</ul>
<img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012192538.png" alt="image-20201012192538519" style="zoom:50%;" />





<h2 id="shell脚本执行方式"><a href="#shell脚本执行方式" class="headerlink" title="shell脚本执行方式"></a>shell脚本执行方式</h2><h3 id="echo输出语句"><a href="#echo输出语句" class="headerlink" title="echo输出语句"></a>echo输出语句</h3><p><code>!</code>在shell中有特殊作用，不能在<code>&quot;</code>中输出，输出需换为<code>&#39;</code>, 但在shell脚本中可以使用。</p>
<img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012192808.png" alt="image-20201012192808428" style="zoom: 67%;" />

<h4 id="一些实例"><a href="#一些实例" class="headerlink" title="一些实例"></a>一些实例</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">echo -e 输出内容			#-e参数支持转义字符</span><br><span class="line"></span><br><span class="line">转义字符:</span><br><span class="line">\\:输出\本身</span><br><span class="line">\a:输出警告音	\b：退格键/向左删除	\c：取消输出行末换行符	\e：ESCAPE键	</span><br><span class="line">\f：换页符	   \n：换行					\r：回车					   	</span><br><span class="line">\t：水平制表符，tab	\v：垂直制表符</span><br><span class="line">\0：八进制--	 \x:shi十六进制输出ASCII码</span><br></pre></td></tr></table></figure>

<img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012193234.png" alt="image-20201012193234062" style="zoom:67%;" />

<p>使用<code>\</code>可实现多行输入命令</p>
<img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012193336.png" alt="image-20201012193336557" style="zoom:67%;" />

<p>“\x61\t\x62\t\x63\n\x64\t\x65\t\x66”是字母的16进制ASCII表示</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">echo -e &quot;\e[1;colornum 内容 \e[0m&quot;		固定表达：颜色输出</span><br><span class="line"></span><br><span class="line">colornum</span><br><span class="line">30m黑色，31m红色，32m绿色，33m黄色，</span><br><span class="line">34m蓝色，35m洋红，36m青色，37m白色</span><br></pre></td></tr></table></figure>

<img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012193520.png" alt="image-20201012193520414" style="zoom:67%;" />



<h3 id="执行脚本"><a href="#执行脚本" class="headerlink" title="执行脚本"></a>执行脚本</h3><h4 id="编写脚本hello-sh"><a href="#编写脚本hello-sh" class="headerlink" title="编写脚本hello.sh"></a>编写脚本hello.sh</h4><p>实际上linux中文件不需要后缀，这里添加后缀只是为了管理者方便辨认</p>
<p>使用<code>cat -A hello.sh</code>查看下脚本内容(-A指包含隐藏字符),这是一个简单的输出语句</p>
<img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012193931.png" alt="image-20201012193931886" style="zoom:50%;" />

<ul>
<li><p><code>#!/bin/bash</code>标称以下语句时sh脚本,本身可省略。但如果在脚本1中嵌入其他脚本2，且脚本2没有声称#!/bin/Bash,则会出现报错</p>
</li>
<li><p>$为linux中的回车符</p>
</li>
</ul>
<h4 id="执行脚本-1"><a href="#执行脚本-1" class="headerlink" title="执行脚本"></a>执行脚本</h4><h5 id="方法1"><a href="#方法1" class="headerlink" title="方法1"></a>方法1</h5><p>赋予执行权限<code>chmod 755 hello.sh</code></p>
<p>然后使用<code>./脚本路径</code>执行</p>
<p><img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012194315.png" alt="image-20201012194315488"></p>
<h5 id="方法2"><a href="#方法2" class="headerlink" title="方法2"></a>方法2</h5><p> 通过bash调用执行，无需赋权755<br> <code>bash hello.sh </code>    </p>
<ul>
<li><p>若出现错误 “bash: ./hello.sh: /bin/Bash: bad interpreter: No such file or directory.” 可能是文件格式错误，</p>
<p>   可用vim打开输入:set ff查看文件格式，如果为dos，可使用:set ff=unix修改，然后使用:wq保存退出</p>
<p>   或者使用<code>#dos2unix 文件名</code>转换(需要安装支持)</p>
</li>
</ul>
<h2 id="bash的基本功能"><a href="#bash的基本功能" class="headerlink" title="bash的基本功能"></a>bash的基本功能</h2><h3 id="历史命令与补全"><a href="#历史命令与补全" class="headerlink" title="历史命令与补全"></a>历史命令与补全</h3><h4 id="history"><a href="#history" class="headerlink" title="history"></a>history</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">history [选项]	[历史命令保存文件]</span><br><span class="line">				-c 清空历史命令</span><br><span class="line">				-w 把缓存中的历史命令即时写入历史命令保存文件~/.bash_history，默认退出登录后才会写入</span><br><span class="line">				</span><br></pre></td></tr></table></figure>

<p>输入<code>history</code>可查询历史命令</p>
<img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012195537.png" alt="image-20201012195537072" style="zoom:50%;" />

<p><code>history -c</code>#清空缓存的历史命令，慎用。不建议清空历史命令。原因：</p>
<ol>
<li><p>可回溯；</p>
</li>
<li><p>黑客习惯于清空隐藏，有助于判断攻击情况；</p>
</li>
<li><p>特殊情况下例如为mysql设置密码后记录会存入文件存在安全隐患</p>
</li>
</ol>
<p>历史命令记录在/root/.bash_history下</p>
<img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012195810.png" alt="image-20201012195810363" style="zoom:67%;" />

<p>命令还停留在第997条，可知新的历史命令未写入文件，关机或重启后才会更新。可使用<code> history -w</code>强制写入。</p>
<img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012200052.png" alt="image-20201012200052704" style="zoom:50%;" />



<ul>
<li><p>历史命令默认保存1000条，可在环境变量配置文件中修改/etc/profile，修改后生效需重新登录</p>
<p>若超过1000条会删除第一条，保存1001条</p>
<p><img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012200313.png" alt="image-20201012200313914"></p>
</li>
</ul>
<h4 id="历史命令调用tips"><a href="#历史命令调用tips" class="headerlink" title="历史命令调用tips"></a>历史命令调用tips</h4><ul>
<li><p>上下箭头调用之前的命令</p>
</li>
<li><p>!n    重复执行第n条（history查询命令前有序号）</p>
</li>
<li><p>!!      重复执行上一条命令</p>
</li>
<li><p>!字串  重复执行最后一条以该字符串开头的命令</p>
</li>
<li><p>命令与文件补全tab</p>
<p>命令/文件/目录     Tab补全，没反应说明有多个该字符串开头的文件/命令/目录，再次敲击可查看</p>
</li>
</ul>
<h3 id="别名alias与bash快捷键"><a href="#别名alias与bash快捷键" class="headerlink" title="别名alias与bash快捷键"></a>别名alias与bash快捷键</h3><h4 id="别名"><a href="#别名" class="headerlink" title="别名"></a>别名</h4><p>除非确定，否则定义的别名不应与现有命令重合</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">alias 别名=&#x27;原命令&#x27;</span><br><span class="line">eg.alias vi=&#x27;vim&#x27;</span><br></pre></td></tr></table></figure>

<p>查看现有命令别名</p>
<img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012205138.png" alt="image-20201012205137967" style="zoom:67%;" />



<p><strong>命令执行优先级：</strong></p>
<p>绝对路径/相对路径执行&gt;执行别名&gt;执行bash内部命令&gt;按照环境变量$PATH定义的目录查找顺序找到的第一个命令</p>
<img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012205323.png" alt="image-20201012205323770" style="zoom:50%;" />

<ul>
<li>命令执行需用绝对路径，平时使用不用绝对路径是因为已被放入PATH中</li>
<li>永久生效-写入配置文件/root/.bashrc</li>
</ul>
<img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012205414.png" alt="image-20201012205414406" style="zoom:60%;" />



<p>删除别名</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">unalias 别名</span><br></pre></td></tr></table></figure>



<h4 id="bash常用快捷键"><a href="#bash常用快捷键" class="headerlink" title="bash常用快捷键"></a>bash常用快捷键</h4><img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012205612.png" alt="image-20201012205612565" style="zoom:50%;" />



<p>按ctrl+R后输入ca,搜索到之前使用过含ca的命令</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(reverse-i-search)`ca&#x27;: cat /etc/profile|grep HISTS</span><br></pre></td></tr></table></figure>



<h3 id="输入输出重定向"><a href="#输入输出重定向" class="headerlink" title="输入输出重定向"></a>输入输出重定向</h3><p>标准输入输出</p>
<table>
<thead>
<tr>
<th>设备</th>
<th>设备文件名</th>
<th>文件描述符</th>
<th>类型</th>
</tr>
</thead>
<tbody><tr>
<td>键盘</td>
<td>/dev/stdin</td>
<td>0</td>
<td>标准输入</td>
</tr>
<tr>
<td>显示器</td>
<td>/dev/stdout</td>
<td>1</td>
<td>标准输出</td>
</tr>
<tr>
<td>显示器</td>
<td>/dev/sdterr</td>
<td>2</td>
<td>标准错误输出</td>
</tr>
</tbody></table>
<h4 id="输出重定向"><a href="#输出重定向" class="headerlink" title="输出重定向"></a>输出重定向</h4><img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201011093929.png" alt="image-20201002213911045" style="zoom:67%;" />

<h5 id="标准输出重定向"><a href="#标准输出重定向" class="headerlink" title="标准输出重定向"></a>标准输出重定向</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">命令 &gt; 文件		#以覆盖方式将命令输出到文件/指定设备</span><br><span class="line">命令 &gt;&gt; 文件	#以追加方式，将命令输出到指定文件/设备</span><br></pre></td></tr></table></figure>

<p>重定向符后的空格可省略，前不可省。</p>
<img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012205923.png" alt="image-20201012205923435" style="zoom: 50%;" />

<p>再次使用&gt;重定向到文件时，原来的内容会被覆盖</p>
<img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012210035.png" alt="image-20201012210035266" style="zoom: 67%;" />

<p>使用&gt;&gt;可追加至文件</p>
<img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012210137.png" alt="image-20201012210137914" style="zoom: 67%;" />



<h5 id="标准错误输出重定向"><a href="#标准错误输出重定向" class="headerlink" title="标准错误输出重定向"></a>标准<strong>错误</strong>输出重定向</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">错误命令 2&gt; 文件		#以覆盖方式将命令的错误信息输出到文件/指定设备</span><br><span class="line">错误命令 2&gt;&gt; 文件	#以追加方式，将命令的错误信息输出到指定文件/设备</span><br></pre></td></tr></table></figure>

<img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012210409.png" alt="image-20201012210409854" style="zoom:67%;" />



<h5 id="同时保存正确和错误输出结果"><a href="#同时保存正确和错误输出结果" class="headerlink" title="同时保存正确和错误输出结果"></a><strong>同时保存</strong>正确和错误输出结果</h5><p>省去人为查看命令是否正确切换重定向命令</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">命令 &gt; 文件 2&gt;&amp;1		#以覆盖方式将正确和错误输出保存到一个文件中</span><br><span class="line">命令 &gt;&gt; 文件 2&gt;&amp;1		#追加方式.....</span><br><span class="line">命令 &amp;&gt; 文件				#作用同上,覆盖</span><br><span class="line">命令 &amp;&gt;&gt; 文件				#作用同上，追加</span><br></pre></td></tr></table></figure>

<img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012210631.png" alt="image-20201012210631911" style="zoom:60%;" />

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">命令 &gt;&gt; 文件1 2&gt;&gt;文件2        #追加方式，正确输出-&gt;文件1，错误输出-&gt;文件2</span><br><span class="line"></span><br><span class="line">ls &gt;&gt; right 2&gt;&gt;fault			  #分类输出结果信息</span><br></pre></td></tr></table></figure>



<h5 id="重定向特殊应用-dev-null-类似垃圾箱"><a href="#重定向特殊应用-dev-null-类似垃圾箱" class="headerlink" title="重定向特殊应用 /dev/null(类似垃圾箱)"></a>重定向特殊应用 /dev/null(类似垃圾箱)</h5><p> 多用于处理shell脚本中的无意义输出, 丢弃一切写入其中的数据（但报告写入操作成功），读取它则会立即得到一个EOF。<a target="_blank" rel="noopener" href="https://blog.csdn.net/zqtsx/article/details/41894223">详解</a></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls &amp;&gt; /dev/null</span><br></pre></td></tr></table></figure>

<ul>
<li>错误输出2和&gt;之间不能用空格</li>
</ul>
<h4 id="输入重定向"><a href="#输入重定向" class="headerlink" title="输入重定向"></a>输入重定向</h4><img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201011093930.png" alt="image-20201002220921683" style="zoom:67%;" />



<h5 id="统计命令wc，Ctrl-D退出"><a href="#统计命令wc，Ctrl-D退出" class="headerlink" title="统计命令wc，Ctrl+D退出"></a>统计命令wc，Ctrl+D退出</h5><img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012211055.png" alt="image-20201012211055858" style="zoom:67%;" />

<p>结果：6行，6个词，21个字节(包括换行符)</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">wc &lt;&lt; 字符ch</span><br><span class="line">&lt;输入内容</span><br><span class="line">...</span><br><span class="line">&lt;字符ch</span><br><span class="line">统计ch中间的内容</span><br></pre></td></tr></table></figure>

<img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012211728.png" alt="image-20201012211728869" style="zoom:60%;" />



<h5 id="使用输入重定向统计文件"><a href="#使用输入重定向统计文件" class="headerlink" title="使用输入重定向统计文件"></a>使用输入重定向统计文件</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">wc [选项] [文件名]</span><br><span class="line">		-c   统计字节数</span><br><span class="line">		-w		统计单词数</span><br><span class="line">		-l		统计行数</span><br></pre></td></tr></table></figure>


<img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012211359.png" alt="image-20201012211359902" style="zoom:50%;" />




<h3 id="多命令顺序执行与管道符"><a href="#多命令顺序执行与管道符" class="headerlink" title="多命令顺序执行与管道符"></a>多命令顺序执行与管道符</h3><h4 id="多命令顺序执行"><a href="#多命令顺序执行" class="headerlink" title="多命令顺序执行"></a>多命令顺序执行</h4><h5 id="命令拼接"><a href="#命令拼接" class="headerlink" title=";命令拼接"></a>;命令拼接</h5><p>命令1<code>;</code>命令2<code>;</code>命令3…….<code>;</code>命令n</p>
<p>n个命令顺序执行，之间没有逻辑关系</p>
<p>eg. <code> ls;date;cd /user;pwd</code></p>
<img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012212142.png" alt="image-20201012212142389" style="zoom:67%;" />



<h5 id="amp-amp-逻辑与"><a href="#amp-amp-逻辑与" class="headerlink" title="&amp;&amp;逻辑与"></a>&amp;&amp;逻辑与</h5><p>命令1<code>&amp;&amp;</code>命令2</p>
<p>命令1正确执行，命令2才会执行</p>
<p>eg. <code>ls hello.sh &amp;&amp; echo yes</code></p>
<img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012212228.png" alt="image-20201012212228161" style="zoom:67%;" />



<h5 id="逻辑或"><a href="#逻辑或" class="headerlink" title="||逻辑或"></a>||逻辑或</h5><p>命令1<code>||</code>命令2</p>
<p>“短路执行”：命令1正确，则命令2不执行；命令1错误，命令2 执行</p>
<p>eg.<code> ls /hhh || echo no</code></p>
<img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012212314.png" alt="image-20201012212314784" style="zoom:67%;" />

<p>eg2.<code>ls /hhh &amp;&amp; echo yes|| echo no</code>                #命令成功输出yes,失败no</p>
<p><img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012212422.png" alt="image-20201012212421968"></p>
<h5 id="计算命令执行时间"><a href="#计算命令执行时间" class="headerlink" title="计算命令执行时间"></a>计算命令执行时间</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> date;命令;date</span></span><br></pre></td></tr></table></figure>

<h5 id="“升级版”拷贝命令dd"><a href="#“升级版”拷贝命令dd" class="headerlink" title="“升级版”拷贝命令dd:"></a>“升级版”拷贝命令dd:</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">dd if=源(输入)文件/设备 of=目标(输出)文件/设备 bs=字节数 count=个数</span><br><span class="line">选项：</span><br><span class="line">bs=字节数			指定单次输入/输出多少字节，将其看做一个数据块</span><br><span class="line">count=个数		 指定输入/输出多少数据块</span><br></pre></td></tr></table></figure>

<ul>
<li><p><strong>dd</strong>可拷贝文件，包括特殊文件（分区，硬盘文件系统），可视为硬盘数据拷贝命令；<strong>cp</strong>仅可拷贝狭义的文件</p>
</li>
<li><p>/dev/zero是一个特殊的文件，读取它时会提供无限的空字符(NULL, ASCII NUL, 0x00)。<a target="_blank" rel="noopener" href="https://blog.csdn.net/zqtsx/article/details/41894223">详解</a></p>
<p>典型用法1：用它提供的字符流来覆盖信息；</p>
<p>常见用法2：产生一个特定大小的空白文件。</p>
</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">dd if=/dev/zero of=/dev/sdb bs=4M 来重新给整个U盘清零</span><br><span class="line">date;dd if=/dev/zero of=/root/testfile bs=1k count=100000;date</span><br><span class="line"><span class="meta">#</span><span class="bash">计算产生100000k空白文件所需的时间</span></span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012212740.png" alt="image-20201012212740222"></p>
<h4 id="管道符"><a href="#管道符" class="headerlink" title="管道符"></a>管道符</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">命令1 | 命令2			#将命令1的输出作为命令2的输入</span><br></pre></td></tr></table></figure>

<p>注意：命令1必须有正确输出，命令2才能执行</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ll -a /etc/ |more			<span class="comment">#翻页查看命令执行结果</span></span></span><br></pre></td></tr></table></figure>

<img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012212934.png" alt="image-20201012212934659" style="zoom: 50%;" />

<p>将使用more查看ll -a查询的结果</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> netstat -an |grep <span class="string">&quot;ESTA&quot;</span></span></span><br><span class="line">tcp        0     96 192.168.52.128:22       192.168.52.1:58323      ESTABLISHED</span><br></pre></td></tr></table></figure>

<img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012213111.png" alt="image-20201012213100918" style="zoom:67%;" />

<ul>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/peida/archive/2013/03/08/2949194.html">netstat</a></p>
</li>
<li><p>grep—类似过滤器</p>
</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">grep [选项]	“搜索内容”</span><br><span class="line">			-i  忽略大小写</span><br><span class="line">			-n	输出行号</span><br><span class="line">			-v	反向查找即搜索不符合条件的内容</span><br><span class="line">			--color=auto	搜索出的关键字颜色显示</span><br></pre></td></tr></table></figure>



<h3 id="通配符与其他特殊符号"><a href="#通配符与其他特殊符号" class="headerlink" title="通配符与其他特殊符号"></a>通配符与其他特殊符号</h3><h4 id="通配符（完全匹配）"><a href="#通配符（完全匹配）" class="headerlink" title="通配符（完全匹配）"></a>通配符（完全匹配）</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">?		匹配一个任意字符</span><br><span class="line">*		匹配任意多个字符</span><br><span class="line">[]	匹配[]内任意一个字符,eg:[abc]hhh，可匹配ahhh,bhhh,chhh</span><br><span class="line">[-]	匹配[]内任意一个字符，-表范围[0-9]匹配数字0到9，[a-z][A-Z]分别一个匹配小写字母和大写字母</span><br><span class="line">[^]	逻辑非，eg:[^0-9]匹配一个非数字字符</span><br></pre></td></tr></table></figure>

<img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012213424.png" alt="image-20201012213424424" style="zoom:50%;" />

<ul>
<li>主要区分“一个”？和“多个”*字符</li>
</ul>
<h4 id="其他Bash中的特殊符号"><a href="#其他Bash中的特殊符号" class="headerlink" title="其他Bash中的特殊符号"></a>其他Bash中的特殊符号</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#x27;				#单引号，单引号内所有特殊字符(eg.$ `反引号`)都没有特殊含义</span><br><span class="line">&quot;				#双引号，除$,``,\外其余特殊符号没有特殊含义直接显示。</span><br><span class="line">				# 			$-调用变量值，``反引号-引用命令，\-转义</span><br><span class="line">``			#反引号，`系统命令`，在bash中先执行，作用与$(命令)一致，推荐后者，``容易看错</span><br><span class="line"><span class="meta">$</span><span class="bash">()			<span class="comment">#引用系统命令，区别于``的是，此处调用最后执行，``调用时执行</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash">				<span class="comment">#表注释</span></span></span><br><span class="line">\				#转义符，eg:\$,输出$符而不是变量引用</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li><code>&#39;</code>和<code>&quot;</code>区别：<code>&#39;</code>输出纯字串，不存在特殊字符特殊作用或命令调用</li>
</ul>
<img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012213911.png" alt="image-20201012213911455" style="zoom:67%;" />



<ul>
<li><p>``` <code>和</code>$()`的区别</p>
<img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012214053.png" alt="image-20201012214053115" style="zoom:67%;" />

<p>虽然执行结果相同，但``先执行命令，将结果赋给abc变量；$()输出时执行命令调用</p>
</li>
</ul>
<h2 id="bash的变量"><a href="#bash的变量" class="headerlink" title="bash的变量"></a>bash的变量</h2><h3 id="用户自定义变量"><a href="#用户自定义变量" class="headerlink" title="用户自定义变量"></a>用户自定义变量</h3><h4 id="什么是变量"><a href="#什么是变量" class="headerlink" title="什么是变量"></a>什么是变量</h4><ul>
<li>变量时计算机内存单元，其中存放的值可以改变。</li>
</ul>
<ul>
<li>每个变量有一个名字，可以用于引用。</li>
</ul>
<ul>
<li>变量可用于保存暂时信息。</li>
</ul>
<h4 id="设置规则"><a href="#设置规则" class="headerlink" title="设置规则"></a>设置规则</h4><ul>
<li><p>变量名可由<strong>字母，数字，下划线</strong>组成，但只能以字母或下划线开头。eg：2numer（X）</p>
</li>
<li><p>bash中 变量默认<strong>字符串类型</strong>，如需运算，需要指定为数值型</p>
</li>
<li><p>变量=值，=左右不能有空格。变量值如果有空格，需用<code>&#39;</code>或<code>&quot;</code>包含为一个整体。</p>
<p>eg：abc12=”hello world”</p>
</li>
<li><p>变量值可叠加，但需要”$变量名”或${变量名}包含被操作变量。</p>
<p>eg：PATH=”$PATH”:/root  或 PATH＝${PATH}:/root相当于在PATG后追加:/root</p>
</li>
<li><p>如将命令结果作为变量值赋予变量需用``` <code>， 或</code>$()`包含命令</p>
<p>eg: aa=`ls`  或 aa=$(ls)</p>
</li>
<li><p>环境变量名建议大写，便于区分</p>
</li>
</ul>
<h4 id="变量分类"><a href="#变量分类" class="headerlink" title="变量分类"></a>变量分类</h4><table>
<thead>
<tr>
<th>变量</th>
<th>作用</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>用户自定义变量</td>
<td>自定义</td>
<td>变量名可修改，变量作用不定</td>
</tr>
<tr>
<td>环境变量</td>
<td>保存和系统操作环境相关数据</td>
<td>变量名不能自定义，也不可修改，作用固定<br />值可修改，有些环境变量可由用户添加</td>
</tr>
<tr>
<td>位置参数变量</td>
<td>向脚本中传递参数或数据</td>
<td>变量名不能自定义，作用固定，值不可修改，不可自定义添加</td>
</tr>
<tr>
<td>预定义变量</td>
<td>bash已经定义好的变量</td>
<td>变量名不能自定义，作用固定，值不可修改，不可自定义添加</td>
</tr>
</tbody></table>
<ul>
<li>位置参数变量是预定义变量的一种，因为类型较多，所以单独列出</li>
</ul>
<h4 id="本地变量-用户自定义变量"><a href="#本地变量-用户自定义变量" class="headerlink" title="本地变量/用户自定义变量"></a>本地变量/用户自定义变量</h4><img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012214734.png" alt="image-20201012214734552" style="zoom:60%;" />

<p>变量默认时字符串类型，叠加可用<code>&quot;$变量&quot;</code>或者<code>$&#123;变量&#125;</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set | more				#set查看系统中所有变量，more分页显示</span><br></pre></td></tr></table></figure>
<img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012215000.png" alt="image-20201012215000428" style="zoom:50%;" />

<p>注意：set查看所有变量,包括PATH</p>
<img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012215213.png" alt="image-20201012215213853" style="zoom:60%;" />

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">unset name			#变量删除unname</span><br></pre></td></tr></table></figure>

<img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012215254.png" alt="image-20201012215254550" style="zoom:67%;" />






<h3 id="环境变量"><a href="#环境变量" class="headerlink" title="环境变量"></a>环境变量</h3><p>变量名称固定，作用固定，可修改值，部分可添加</p>
<h4 id="用户自定义变量与环境变量区别"><a href="#用户自定义变量与环境变量区别" class="headerlink" title="用户自定义变量与环境变量区别"></a>用户自定义变量与环境变量区别</h4><p>作用范围</p>
<ul>
<li>用户自定义变量：当前shell</li>
<li>环境变量：当前shell和这个shell的所有子shell。(若写入配置文件，则在所有shell中生效)</li>
</ul>
<h4 id="设置环境变量"><a href="#设置环境变量" class="headerlink" title="设置环境变量"></a>设置环境变量</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">export 变量名=变量值			#申明变量</span><br><span class="line">env											#查询变量</span><br><span class="line">unset 变量名							#删除变量</span><br></pre></td></tr></table></figure>

<img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012215522.png" alt="image-20201012215522813" style="zoom:60%;" />

<p>env中的内容</p>
<img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012215632.png" alt="image-20201012215632888" style="zoom:50%;" />



<p>子shell内：</p>
<img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012215835.png" alt="image-20201012215835568" style="zoom: 67%;" />

<p>父shell的环境变量在子shell内也起作用</p>
<p>使用pstree可查看进程之间的调用关系树</p>
<img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012215947.png" alt="image-20201012215947052" style="zoom:50%;" />



<h4 id="系统常见环境变量"><a href="#系统常见环境变量" class="headerlink" title="系统常见环境变量"></a>系统常见环境变量</h4><h5 id="PATH：系统查找命令的路径"><a href="#PATH：系统查找命令的路径" class="headerlink" title="PATH：系统查找命令的路径"></a>PATH：系统查找命令的路径</h5><img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012220151.png" alt="image-20201012220151533" style="zoom:67%;" />

<p>追加时需注意格式，使用：分隔</p>
<p>ls之类的命令执行不需要绝对路径，是因为在PATH中存有其绝对路径，作用于全局</p>
<p><strong>Q:可执行文件如何不用./直接执行？</strong></p>
<ol>
<li><p>将文件放入bin下 （不推荐）</p>
<img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012220545.png" alt="image-20201012220545019" style="zoom:67%;" />

<p>给文件赋予执行权限后拷贝入bin下</p>
<img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012220623.png" alt="image-20201012220623060" style="zoom:67%;" />

<p>文件放入bin下后可直接执行，执行时会在path中列出的绝对路径中查找命令/文件</p>
</li>
<li><p>将当前目录追加在PATH后</p>
<img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012220921.png" alt="image-20201012220921933" style="zoom: 67%;" />

</li>
</ol>
<p>值得注意的是，叠加写入PATH的路径，临时生效，永久需写入配置文件</p>
<h5 id="PS1-定义系统提示符的变量"><a href="#PS1-定义系统提示符的变量" class="headerlink" title="PS1: 定义系统提示符的变量"></a>PS1: 定义系统提示符的变量</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">\d		显示日期。“星期 月 日”</span><br><span class="line">\t		24h制时间。“HH:MM:SS”</span><br><span class="line">\T		12h制时间。“HH:MM:SS”</span><br><span class="line">\A		24h制时间。“HH:MM”</span><br><span class="line">\@		12h制时间。“HH:MM”</span><br><span class="line">\h		简写主机名。默认“localhost”</span><br><span class="line">\u		显示当前用户名</span><br><span class="line">\w		显示当前目录绝对路径</span><br><span class="line">\W		显示当前所在目录最后一个目录</span><br><span class="line">\#		执行的第几个命令</span><br><span class="line">\$		提示符。普通用户-$,root-#</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">echo</span> <span class="variable">$PS1</span>				<span class="comment">#默认格式</span></span></span><br><span class="line">[\u@\h \W]\$</span><br></pre></td></tr></table></figure>

<p>修改</p>
<img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012221415.png" alt="image-20201012221415192" style="zoom:60%;" />

<h3 id="位置参数变量"><a href="#位置参数变量" class="headerlink" title="位置参数变量"></a>位置参数变量</h3><p>位置参数变量是预定义变量的一种，因为类型较多，所以单独列出</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash">n		n-数字，0代表命令本身,<span class="variable">$1</span>-9分别表示接收到的第一到九个参数,10以上需按<span class="variable">$&#123;n&#125;</span>的格式,<span class="variable">$&#123;10&#125;</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash">*		代表所有命令，将其看作一个整体</span></span><br><span class="line"><span class="meta">$</span><span class="bash">@		代表所有命令，将每个参数区分对待</span></span><br><span class="line"><span class="meta">$</span><span class="bash"><span class="comment">#		参数个数</span></span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>$*和$@</p>
<p>假设可执行文件收到参数 11， 22， 33， 44， 55（均为字符串）</p>
<p>则$*类似’1122334455’，$@类似{11,22,33,44,55}</p>
</li>
</ul>
<p>eg1.</p>
<img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012221740.png" alt="image-20201012221740590" style="zoom:67%;" />

<p>$0命令本身，$1接收到的第一个命令，以此类推</p>
<p>eg2. 一个运算例子</p>
<img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012222035.png" alt="image-20201012222000366" style="zoom:67%;" />

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">sum=$(($1+$2))                  #数值运算格式$(())</span><br><span class="line">echo $sum</span><br></pre></td></tr></table></figure>

<p>eg3. for循环测试$*和$@</p>
<img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012222408.png" alt="image-20201012222408867" style="zoom:50%;" />

<p>for循环遍历$*,一个整体同时输出<br>for循环遍历$@，内容单独挨个输出</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">echo &quot;parameters numer:$#&quot;</span><br><span class="line">echo &quot;the parameters is:$*&quot;</span><br><span class="line">echo -e &quot;the parameters is:$@\n&quot;			#echo输出特殊字符 -e</span><br><span class="line"></span><br><span class="line">for i in &quot;$*&quot;</span><br><span class="line">    do</span><br><span class="line">        echo &quot;the parameters is:$i&quot;</span><br><span class="line">    done</span><br><span class="line"></span><br><span class="line">x=1</span><br><span class="line">for j in &quot;$@&quot;</span><br><span class="line">    do</span><br><span class="line">        echo &quot;the parameter$x is:$j&quot;</span><br><span class="line">        x=$(($x+1))</span><br><span class="line">    done</span><br></pre></td></tr></table></figure>





<h3 id="预定义变量"><a href="#预定义变量" class="headerlink" title="预定义变量"></a>预定义变量</h3><h4 id="预定义变量-1"><a href="#预定义变量-1" class="headerlink" title="预定义变量"></a>预定义变量</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash">?		最后一次执行命令返回的状态。正确-0，错误-对应错误的数字代码</span></span><br><span class="line"><span class="meta">$</span><span class="bash">$		当前进程进程号PID</span></span><br><span class="line"><span class="meta">$</span><span class="bash">!	后台运行的最后一个进程的进程号PID</span></span><br></pre></td></tr></table></figure>

<img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012231527.png" alt="image-20201012222936620" style="zoom: 50%;" />

<p>命令 &amp;表示将命令放在后台执行，由于top是专用于前台与用户交互 查看系统状态的命令，所以一放入后台就停止运行。想要恢复到前台运行可使用<code>fg 工作号</code>(工作号就是[]内的数字)，可通过<code>jobs</code>查看后台正在运行/中止的命令。</p>
<img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012224044.png" alt="image-20201012224044036" style="zoom:67%;" />



<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">echo &quot;the current process is $$&quot;			#当前进程PID</span><br><span class="line">find /root -name hello.sh &amp;			#&amp;表示将进程挂在后台执行</span><br><span class="line">echo &quot;$(jobs)&quot;</span><br><span class="line">echo &quot;the last one Daemon process is $!&quot;		#最后一个后台进程PID</span><br></pre></td></tr></table></figure>





<h5 id="主动接收键盘输入read"><a href="#主动接收键盘输入read" class="headerlink" title="主动接收键盘输入read"></a>主动接收键盘输入read</h5><p>echo只能被动等待，不能输出提示信息引导用户输入，不够友好</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">read [选项] [变量名]</span><br><span class="line">			-p &quot;提示信息&quot;</span><br><span class="line">			-t 秒数  等待用户输入秒数</span><br><span class="line">			-n 			接受参数数量/字符数</span><br><span class="line">      -s			隐藏输入，例如输入密码时可用</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012224603.png" alt="image-20201012224603790"></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">readtest.sh </span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">read -t 30 -p &quot;Please input your name:&quot; name</span><br><span class="line">echo &quot;Name is $name&quot;</span><br><span class="line"></span><br><span class="line">read -s  -t 30 -p &quot;Please input your passwd:&quot; password</span><br><span class="line">echo -e &quot;\nPasswd is $password&quot;</span><br><span class="line"></span><br><span class="line">read -n 1 -t 30 -p &quot;login?[y/n]:&quot; choice			#-n 1 接受1个参数后立刻执行下一条</span><br><span class="line">echo -e &quot;\n&quot;</span><br></pre></td></tr></table></figure>



<h2 id="bash的运算符"><a href="#bash的运算符" class="headerlink" title="bash的运算符"></a>bash的运算符</h2><h3 id="数值运算与运算符"><a href="#数值运算与运算符" class="headerlink" title="数值运算与运算符"></a>数值运算与运算符</h3><h4 id="声明变量类型-declare"><a href="#声明变量类型-declare" class="headerlink" title="声明变量类型 declare"></a>声明变量类型 declare</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">declare [+-][选项] 变量名</span><br><span class="line">				-：给变量设置属性</span><br><span class="line">				+：给变量取消属性</span><br><span class="line">				-i:将变量声明为整数型</span><br><span class="line">				-x:将变量申明为环境变量</span><br><span class="line">				-p:显示变量被声明的类型</span><br></pre></td></tr></table></figure>

<p>变量默认类型为字符型，要想进行<strong>数值运算</strong>，需将变量声明为整型,使用-i参数</p>
<img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012225128.png" alt="image-20201012225128291" style="zoom:67%;" />



<p>环境变量+x</p>
<img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012224930.png" alt="image-20201012224930505" style="zoom:67%;" />

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> aa			<span class="comment">#将aa声明为环境变量</span></span><br><span class="line"><span class="built_in">declare</span> -p aa		<span class="comment">#查看aa类型，x--环境变量</span></span><br><span class="line"><span class="built_in">declare</span> +x aa			<span class="comment">#取消aa的环境变量属性</span></span><br></pre></td></tr></table></figure>

<p>其他数值运算方法</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">echo $(($aa+$bb)) 		#$((运算式))，推荐</span><br><span class="line">echo $[$aa+$bb] 			#$[运算式]，不建议容易与$(命令)混</span><br><span class="line">echo $(expr $aa + $bb)		#$(expr 运算式)，注意+左右有空格</span><br></pre></td></tr></table></figure>



<h4 id="运算优先级"><a href="#运算优先级" class="headerlink" title="运算优先级"></a>运算优先级</h4><img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201011093931.png" alt="image-20201003231448357" style="zoom:67%;" />

<p>优先级数字越大，优先级越高</p>
<h3 id="变量测试与内容替换"><a href="#变量测试与内容替换" class="headerlink" title="变量测试与内容替换"></a>变量测试与内容替换</h3><h4 id="置换格式"><a href="#置换格式" class="headerlink" title="置换格式"></a>置换格式</h4><p><img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201011093932.png" alt="image-20201003231608574"></p>
<p>主要用于通过x的值检测y值的状态（未设置，空，有值），多用于脚本中自动判断，类似if-else</p>
<p>一些小规律：（表比较难记，建议作为工具表，随用随查）</p>
<ul>
<li><p>：与没有：</p>
</li>
<li><p>+-  结果相反</p>
<p>=   不仅改变x还改变y</p>
</li>
<li><p>?报错</p>
</li>
</ul>
<h2 id="环境变量配置文件"><a href="#环境变量配置文件" class="headerlink" title="环境变量配置文件"></a>环境变量配置文件</h2><h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><p>环境变量配置文件-每次开机生效</p>
<h5 id="source"><a href="#source" class="headerlink" title="source"></a>source</h5><p>更改环境变量后重新登陆生效，source可省略此过程</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">source 配置文件</span><br><span class="line">或</span><br><span class="line">. 配置文件		#.是source的缩写</span><br></pre></td></tr></table></figure>



<h4 id="环境变量配置文件-1"><a href="#环境变量配置文件-1" class="headerlink" title="环境变量配置文件"></a>环境变量配置文件</h4><p>定义对系统os生效的系统默认环境变量，如PATH，HISTSIZE，PS1，HOSTNAME等</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">echo</span> <span class="variable">$PATH</span></span></span><br><span class="line">/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/home/jen/.local/bin:/home/jen/bin</span><br></pre></td></tr></table></figure>

<p>变量叠加修改：一次性,重启开机后失效，想要永久生效需写入配置文件</p>
<h5 id="常见配置文件"><a href="#常见配置文件" class="headerlink" title="常见配置文件"></a>常见配置文件</h5><p><code>/etc/profile</code></p>
<p>``/etc/profile.d/*.sh`</p>
<p> <code>/etc/bashrc</code></p>
<p> <code>~/.bashrc</code>, </p>
<p> <code>~/.bash_profile</code></p>
<ul>
<li>/etc…                 所有用户都生效</li>
<li>~/.bash…          家目录，当前用户生效，隐藏文件</li>
</ul>
<h3 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h3><h4 id="优先级"><a href="#优先级" class="headerlink" title="优先级"></a>优先级</h4><img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201011093933.png" alt="image-20201002163004666" style="zoom:67%;" />

<h4 id="访问路径1"><a href="#访问路径1" class="headerlink" title="访问路径1"></a>访问路径1</h4><img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201011093934.png" alt="image-20201004104239463" style="zoom:67%;" />

<ul>
<li><p>/etc/profile作用：</p>
<p>USER变量，LOGINNAME变量，MAIL变量，PATH变量，HOSTNAME变量，HISTSIZE变量</p>
<p>PATH：</p>
<img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012225926.png" alt="image-20201012225926614" style="zoom:50%;" />

<p>USER，LOGINNAME，MAIL</p>
<img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012230040.png" alt="image-20201012230040443" style="zoom:50%;" />

<p>HOSTNAME, HISTSIZE .HISTCONTROL</p>
<img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012230114.png" alt="image-20201012230114836" style="zoom:67%;" />

<p>umask</p>
<img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012230201.png" alt="image-20201012230201241" style="zoom:67%;" />

<p>调用/etc/profile.d/*.sh文件</p>
<img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012230257.png" alt="image-20201012230257888" style="zoom:50%;" />

<p>下面的程序段使得管理员才能执行/usr/sbin下的命令</p>
<img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012230423.png" alt="image-20201012230423363" style="zoom:50%;" />
</li>
<li><p>/etc/profile.d/*.sh</p>
</li>
</ul>
<img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012231528.png" alt="image-20201012230636733" style="zoom:67%;" />

<ul>
<li><p>lang.sh-与系统语言有关</p>
<p>/etc/locale.conf调用+path追加</p>
<img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012231529.png" alt="image-20201012230911559" style="zoom:50%;" />

<img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012231530.png" alt="image-20201012231000855" style="zoom: 50%;" />





</li>
</ul>
<h4 id="访问路径2"><a href="#访问路径2" class="headerlink" title="访问路径2"></a>访问路径2</h4><img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201011093935.png" alt="image-20201004110954353" style="zoom: 50%;" />

<ul>
<li><p>~/.bash_profile</p>
<p>追加PATH.后Path会覆盖原值，但./bash_profile中使用追加</p>
<p><img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012231413.png" alt="image-20201012231413254"></p>
</li>
</ul>
<ul>
<li><p>~/.bashrc</p>
<p>别名声明,可写在其他文件内，注意作用范围</p>
<img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012231518.png" alt="image-20201012231518249" style="zoom:67%;" />
</li>
<li><p>/etc/bashrc</p>
<p>PS1变量</p>
<img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012231724.png" alt="image-20201012231724059" style="zoom:50%;" />

<p>umask</p>
<img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012231945.png" alt="image-20201012231945496" style="zoom:60%;" />

<p>PATH变量</p>
<img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012231926.png" alt="image-20201012231926225" style="zoom:60%;" />

<p>调用/etc/profile.d/*.sh（仅在免登录shell中调用）</p>
<img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201012232009.png" alt="image-20201012232009695" style="zoom:67%;" />







</li>
</ul>
<h3 id="其他配置文件与登录信息"><a href="#其他配置文件与登录信息" class="headerlink" title="其他配置文件与登录信息"></a>其他配置文件与登录信息</h3><h4 id="注销时生效的环境变量配置文件"><a href="#注销时生效的环境变量配置文件" class="headerlink" title="注销时生效的环境变量配置文件"></a>注销时生效的环境变量配置文件</h4><p>  <code>~/.bash_logout</code></p>
<h4 id="历史命令记录配置文件"><a href="#历史命令记录配置文件" class="headerlink" title="历史命令记录配置文件"></a>历史命令记录配置文件</h4><p>~/bash_history</p>
<ul>
<li>重要排错手段，一般不建议删除</li>
<li>mysql设置密码时会记录在配置文件中</li>
</ul>
<h4 id="shell中登录信息"><a href="#shell中登录信息" class="headerlink" title="shell中登录信息"></a>shell中登录信息</h4><h5 id="本地终端欢迎信息：-etc-issue"><a href="#本地终端欢迎信息：-etc-issue" class="headerlink" title="本地终端欢迎信息：/etc.issue"></a>本地终端欢迎信息：/etc.issue</h5><img src="https://cdn.jsdelivr.net/gh/mij0lb/PictureBed/BlogImg20201011093936.png" alt="image-20201004111344889" style="zoom: 50%;" />

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">/etc/issue</span></span><br><span class="line">\S</span><br><span class="line">Kernel \r on an \m</span><br></pre></td></tr></table></figure>

<p>修改后只对本地生效</p>
<ul>
<li><p>终端号</p>
<p>每个虚拟控制台登录都会产生一个<code>tty1-7</code>, 每一个远程连接都会产生一个<code>pts/0-255</code>.</p>
</li>
</ul>
<h5 id="远程终端欢迎信息：-etc-issue-net"><a href="#远程终端欢迎信息：-etc-issue-net" class="headerlink" title="远程终端欢迎信息：/etc/issue.net"></a>远程终端欢迎信息：/etc/issue.net</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> cat /etc/issue.net</span></span><br><span class="line">\S</span><br><span class="line">Kernel \r on an \m</span><br></pre></td></tr></table></figure>

<ul>
<li>转义符在此文件中不能使用</li>
<li>是否显示欢迎信息，由ssh配置文件**/etc/ssh/sshd_config**决定（加入Banner /etc/issue.net行才可显示，需重启ssh服务）。默认不生效</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/ssh/sshd_profile</span><br><span class="line">...</span><br><span class="line"><span class="meta">#</span><span class="bash"> no default banner path</span></span><br><span class="line"><span class="meta">#</span><span class="bash">Banner none</span></span><br><span class="line">Banner /etc/issue.net</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">service ssh restart			#重启ssh服务</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">退出后重新登录可见欢迎信息，由于issue.net中转义符不会生效，故原样输出</span></span><br><span class="line">\S</span><br><span class="line">Kernel \r on an \m</span><br><span class="line">Last login: Sun Oct  4 19:20:24 2020 from 192.168.52.x</span><br><span class="line">[root@localhost ~]# </span><br></pre></td></tr></table></figure>

<ul>
<li><p>登陆后欢迎信息：/etc/motd</p>
<p>本地/远程均显示</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> cat /etc/motd</span></span><br><span class="line">Do not operate unauthorized,thanks</span><br></pre></td></tr></table></figure>

<p>可自定义，不建议写welcome to …，国外有个报道黑客入侵了一个服务器，而这个服务器却给出了欢迎登录的信息，因此法院不做任何裁决。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">重新登陆可见</span></span><br><span class="line">\S</span><br><span class="line">Kernel \r on an \m</span><br><span class="line">Last login: Sun Oct  4 19:27:18 2020 from 192.168.52.1</span><br><span class="line"></span><br><span class="line">Do not operate unauthorized,thanks</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p>远程登录欢迎信息应尽可能删减敏感信息</p>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/linux/" rel="tag"># linux</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2020/10/11/linux%E5%9F%BA%E7%A1%80-3-%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86/" rel="prev" title="linux基础_3.用户管理与用户组管理">
                  <i class="fa fa-chevron-left"></i> linux基础_3.用户管理与用户组管理
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2020/10/11/linux%E5%9F%BA%E7%A1%80-5-%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86/" rel="next" title="linux基础_5.文件系统管理">
                  linux基础_5.文件系统管理 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






      

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      const activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      const commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

    </div>
  </main>

  <footer class="footer">
    <div class="footer-inner">
      

      

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">mij0lb</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <script src="//cdn.jsdelivr.net/npm/animejs@3.2.0/lib/anime.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  


















  








  

  

</body>
</html>
